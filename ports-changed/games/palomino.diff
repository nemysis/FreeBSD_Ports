===> Generating patch
===> Viewing diff with more
diff -ruN /usr/ports/games/palomino/Makefile ./Makefile
--- /usr/ports/games/palomino/Makefile	2013-06-02 18:54:42.000000000 +0200
+++ ./Makefile	2013-06-05 20:16:44.000000000 +0200
@@ -2,8 +2,7 @@
 # $FreeBSD: head/games/palomino/Makefile 316786 2013-04-29 08:57:12Z bapt $
 
 PORTNAME=	palomino
-PORTVERSION=	20121026
-PORTREVISION=	2
+PORTVERSION=	20130527
 CATEGORIES=	games
 MASTER_SITES=	ftp://ftp.palomino3d.org/sim/
 DISTFILES=	${PORTNAME}_src_${PORTVERSION}.txz \
@@ -15,6 +14,8 @@
 MAINTAINER=	nemysis@gmx.ch
 COMMENT=	Action flight simulation computer program using OSG
 
+LICENSE=	GPLv2
+
 LIB_DEPENDS=	osg:${PORTSDIR}/graphics/osg
 
 USE_BZIP2=	yes
@@ -32,24 +33,20 @@
 
 WRKSRC=		${WRKDIR}/${PORTNAME}
 
-OPTIONS_DEFINE=	JOYSTICK SDL PLIB GUI
+OPTIONS_DEFINE=	SDL PLIB GUI
 OPTIONS_DEFAULT=	SDL GUI
 
-JOYSTICK_DESC=	Enable joystick support through linux-js
 SDL_DESC=	SDL support for input and sound
 PLIB_DESC=	Enable sound support through plib
 GUI_DESC=	Enable FLTK GUI
 
+PORTDOCS=	*
+
 DESKTOP_ENTRIES=	"Palomino" "${COMMENT}" "${PORTNAME}" \
-			"${PORTNAME}" "Game;ArcadeGame;" ${FALSE}
+			"${PORTNAME}" "Game;ArcadeGame;" false
 
 .include <bsd.port.options.mk>
 
-.if ${PORT_OPTIONS:MJOYSTICK}
-BUILD_DEPENDS+=	${LOCALBASE}/include/linux/joystick.h:${PORTSDIR}/devel/linux-js
-RUN_DEPENDS+=	${LOCALBASE}/include/linux/joystick.h:${PORTSDIR}/devel/linux-js
-.endif
-
 .if ${PORT_OPTIONS:MSDL}
 USE_SDL+=	sdl mixer
 .endif
@@ -71,30 +68,34 @@
 	@${REINPLACE_CMD} -e '/FIND_PACKAGE(/ s|)| REQUIRED)|' \
 		${WRKSRC}/CMakeModules/libraries.cmake
 	@${REINPLACE_CMD} -e '/COMPILE_WITH_OSSIM/ d' ${WRKSRC}/CMakeLists.txt
-.if empty(PORT_OPTIONS:MJOYSTICK)
+
+# Please look MOVED 2013-06-04
 	@${REINPLACE_CMD} -e '/COMPILE_WITH_LINUX_JOYSTICK/ d' ${WRKSRC}/CMakeLists.txt
-.endif
-.if empty(PORT_OPTIONS:MSDL)
+
+.if ! ${PORT_OPTIONS:MSDL}
 	@${REINPLACE_CMD} -e '/COMPILE_WITH_SDL/ d' ${WRKSRC}/CMakeLists.txt
 .endif
-.if empty(PORT_OPTIONS:MPLIB)
+
+.if ! ${PORT_OPTIONS:MPLIB}
 	@${REINPLACE_CMD} -e '/COMPILE_WITH_PLIB/ d' ${WRKSRC}/CMakeLists.txt
 .endif
-.if empty(PORT_OPTIONS:MGUI)
+
+.if ! ${PORT_OPTIONS:MGUI}
 	@${REINPLACE_CMD} -e '/COMPILE_WITH_FLTK/ d' ${WRKSRC}/CMakeLists.txt
 .endif
+
 	@${REINPLACE_CMD} -e 's|string sDataDir|&="${DATADIR}/data/"|'\
-	       	${WRKSRC}/src/base/conf.cc
+		${WRKSRC}/src/base/conf.cc
 	@${REINPLACE_CMD} -e '/LUABIND_SCRIPTS_DIR/ s|"scripts"|"${DATADIR}/scripts"|' \
-	       	${WRKSRC}/src/lua_bind/defs.hh
+		${WRKSRC}/src/lua_bind/defs.hh
 	@${REINPLACE_CMD} -e 's|doc/html/|${DOCSDIR}/|' ${WRKSRC}/src/gui/gui.cc
 
 post-install:
-	${MKDIR} ${DATADIR}
-	cd ${WRKSRC}/ && ${COPYTREE_SHARE} "data scripts" ${DATADIR}/
+	@${MKDIR} ${DATADIR}
+	@(cd ${WRKSRC} && ${COPYTREE_SHARE} "data scripts" ${DATADIR})
 # docs are used from within the game, so this is unconditional
-	${MKDIR} ${DOCSDIR}
-	cd ${WRKSRC}/doc/html && ${COPYTREE_SHARE} \* ${DOCSDIR}/
+	@${MKDIR} ${DOCSDIR}
+	@(cd ${WRKSRC}/doc/html && ${COPYTREE_SHARE} . ${DOCSDIR})
 
 	${LN} -sf ${DOCSDIR}/images/palominoLogo.png \
 		${PREFIX}/share/pixmaps/${PORTNAME}.png
diff -ruN /usr/ports/games/palomino/distinfo ./distinfo
--- /usr/ports/games/palomino/distinfo	2013-06-02 18:54:42.000000000 +0200
+++ ./distinfo	2013-06-05 18:45:44.000000000 +0200
@@ -1,5 +1,5 @@
-SHA256 (palomino_src_20121026.txz) = fee1f1d05c8cb8bb25484d01b03ffdce44b31fac54a68c27f82d017ddee29b76
-SIZE (palomino_src_20121026.txz) = 572424
+SHA256 (palomino_src_20130527.txz) = ae5be1a8e146030289ec75b2c44f0dde11641809ef57a572038cb746c64bceca
+SIZE (palomino_src_20130527.txz) = 572468
 SHA256 (palomino_data_misc_20091027.tar.bz2) = f5b7183ae98a7842dcc626de388d396a50c98011745bc6afca7da402c13fdac8
 SIZE (palomino_data_misc_20091027.tar.bz2) = 632943
 SHA256 (palomino_data_models_20090615.tar.bz2) = 53acdb00a61cbfe5faca7c30276ae76a2d0c8a169eff292b54fc9701bfbe885a
diff -ruN /usr/ports/games/palomino/pkg-plist ./pkg-plist
--- /usr/ports/games/palomino/pkg-plist	2013-06-02 18:54:42.000000000 +0200
+++ ./pkg-plist	2013-05-21 19:25:26.000000000 +0200
@@ -1,52 +1,5 @@
 bin/palomino
 share/pixmaps/palomino.png
-%%DOCSDIR%%/coding.html
-%%DOCSDIR%%/compression.html
-%%DOCSDIR%%/crash.html
-%%DOCSDIR%%/docs.css
-%%DOCSDIR%%/images/arrowBlue.gif
-%%DOCSDIR%%/images/arrowGreen.gif
-%%DOCSDIR%%/images/arrowRed.gif
-%%DOCSDIR%%/images/arrowWhite.gif
-%%DOCSDIR%%/images/arrowYellow.gif
-%%DOCSDIR%%/images/favicon.png
-%%DOCSDIR%%/images/palominoLogo.png
-%%DOCSDIR%%/images/palomino_pegasus_50x40.png
-%%DOCSDIR%%/images/sprite1.png
-%%DOCSDIR%%/images/sprite2.png
-%%DOCSDIR%%/images/sprite3.png
-%%DOCSDIR%%/index.html
-%%DOCSDIR%%/issues.html
-%%DOCSDIR%%/lua_scripts.html
-%%DOCSDIR%%/manual.css
-%%DOCSDIR%%/manual.html
-%%DOCSDIR%%/math.html
-%%DOCSDIR%%/module_base.html
-%%DOCSDIR%%/module_base_configuration.html
-%%DOCSDIR%%/module_collision.html
-%%DOCSDIR%%/module_control.html
-%%DOCSDIR%%/module_fx.html
-%%DOCSDIR%%/module_game.html
-%%DOCSDIR%%/module_gfx.html
-%%DOCSDIR%%/module_graph.html
-%%DOCSDIR%%/module_gui.html
-%%DOCSDIR%%/module_hud.html
-%%DOCSDIR%%/module_init.html
-%%DOCSDIR%%/module_input.html
-%%DOCSDIR%%/module_lua.html
-%%DOCSDIR%%/module_math.html
-%%DOCSDIR%%/module_object.html
-%%DOCSDIR%%/module_physics.html
-%%DOCSDIR%%/module_program.html
-%%DOCSDIR%%/module_shader.html
-%%DOCSDIR%%/module_shadows.html
-%%DOCSDIR%%/module_sky.html
-%%DOCSDIR%%/module_sound.html
-%%DOCSDIR%%/module_view.html
-%%DOCSDIR%%/module_world.html
-%%DOCSDIR%%/rules.html
-%%DOCSDIR%%/scene.html
-%%DOCSDIR%%/terrain.html
 %%DATADIR%%/data/fonts/README.txt
 %%DATADIR%%/data/fonts/arial.ttf
 %%DATADIR%%/data/fonts/masque.ttf
@@ -516,5 +469,3 @@
 @dirrm %%DATADIR%%/data/fonts
 @dirrm %%DATADIR%%/data
 @dirrm %%DATADIR%%
-@dirrm %%DOCSDIR%%/images
-@dirrm %%DOCSDIR%%
===> Done
