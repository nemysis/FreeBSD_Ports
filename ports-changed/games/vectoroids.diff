===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/games/vectoroids/Makefile ./Makefile
--- /usr/ports/games/vectoroids/Makefile	2013-01-14 17:55:32.000000000 +0100
+++ ./Makefile	2013-03-28 18:47:41.000000000 +0100
@@ -1,13 +1,9 @@
-# New ports collection makefile for:	vectoroids
-# Date created:				27 June 2003
-# Whom:					Kris Kennaway <kris@FreeBSD.org>
-#
+# Created by: Kris Kennaway <kris@FreeBSD.org>
 # $FreeBSD: head/games/vectoroids/Makefile 304008 2012-09-10 01:34:42Z swills $
-#
 
 PORTNAME=	vectoroids
 PORTVERSION=	1.1.0
-PORTREVISION=	14
+PORTREVISION=	15
 CATEGORIES=	games
 MASTER_SITES=	ftp://ftp.tuxpaint.org/unix/x/vectoroids/src/ \
 		ftp://ftp.billsgames.com/unix/x/vectoroids/src/
@@ -20,33 +16,27 @@
 USE_GMAKE=	yes
 USE_SDL=	image mixer sdl
 
-PLIST_FILES=	bin/${PORTNAME} \
-		share/pixmaps/${PORTNAME}.png
-
 MAN6=		${PORTNAME}.6
 
-PORTDATA=	*
 PORTDOCS=	CHANGES.txt README.txt
 
+DESKTOP_ENTRIES="Vectoroids" "${COMMENT}" "${PORTNAME}" \
+		"${PORTNAME}" "Game;ArcadeGame;" false
+
 .include <bsd.port.options.mk>
 
+post-patch:
+	@${FIND} ${WRKDIR} -name .xvpics | ${XARGS} ${RM} -rf
+
 do-install:
-# Executable
 	${INSTALL_PROGRAM} ${WRKSRC}/${PORTNAME} ${PREFIX}/bin
+	@(cd ${WRKSRC}/data && ${COPYTREE_SHARE} "images music sounds" ${DATADIR})
+	${LN} -sf ${DATADIR}/images/icon.png  ${PREFIX}/share/pixmaps/${PORTNAME}.png
+	${INSTALL_MAN} ${WRKSRC}/${MAN6} ${MAN6PREFIX}/man/man6
 
-# Data
-	(cd ${WRKSRC}/data && ${COPYTREE_SHARE} "images music sounds" ${DATADIR})
-
-# Pixmaps
-	${INSTALL_DATA} ${WRKSRC}/data/images/icon.png ${PREFIX}/share/pixmaps/${PORTNAME}.png
-
-# Documentation
 .if ${PORT_OPTIONS:MDOCS}
-	${MKDIR} ${DOCSDIR}
-.  for f in ${PORTDOCS}
-	${INSTALL_DATA} ${WRKSRC}/${f} ${DOCSDIR}
-.  endfor
+	@${MKDIR} ${DOCSDIR}
+	${INSTALL_DATA} ${PORTDOCS:S|^|${WRKSRC}/|} ${DOCSDIR}
 .endif
-	${INSTALL_MAN} ${WRKSRC}/${MAN6} ${MAN6PREFIX}/man/man6
 
 .include <bsd.port.mk>
diff -ruN --exclude=CVS /usr/ports/games/vectoroids/pkg-plist ./pkg-plist
--- /usr/ports/games/vectoroids/pkg-plist	1970-01-01 01:00:00.000000000 +0100
+++ ./pkg-plist	2013-03-28 18:48:03.000000000 +0100
@@ -0,0 +1,20 @@
+bin/vectoroids
+share/pixmaps/vectoroids.png
+%%DATADIR%%/images/icon.png
+%%DATADIR%%/images/redspot-e.bmp
+%%DATADIR%%/images/redspot.jpg
+%%DATADIR%%/music/decision.s3m
+%%DATADIR%%/music/decision.txt
+%%DATADIR%%/sounds/ast1.wav
+%%DATADIR%%/sounds/ast2.wav
+%%DATADIR%%/sounds/ast3.wav
+%%DATADIR%%/sounds/ast4.wav
+%%DATADIR%%/sounds/bullet.wav
+%%DATADIR%%/sounds/explode.wav
+%%DATADIR%%/sounds/extralife.wav
+%%DATADIR%%/sounds/gameover.wav
+%%DATADIR%%/sounds/thrust.wav
+@dirrm %%DATADIR%%/sounds
+@dirrm %%DATADIR%%/music
+@dirrm %%DATADIR%%/images
+@dirrm %%DATADIR%%
===> Done
