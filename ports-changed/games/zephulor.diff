===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/games/zephulor/Makefile ./Makefile
--- /usr/ports/games/zephulor/Makefile	2013-01-24 11:57:58.000000000 +0100
+++ ./Makefile	2013-05-26 19:56:27.000000000 +0200
@@ -3,27 +3,27 @@
 
 PORTNAME=	zephulor
 PORTVERSION=	1
-PORTREVISION=	5
+PORTREVISION=	6
 CATEGORIES=	games
-MASTER_SITES=	SF/apz/apz/stable/
-DISTNAME=	${PORTNAME}-source
+MASTER_SITES=	SF/apz/apz/stable/ \
+		SF/nemysisfreebsdp/:icons
+DISTFILES=	${PORTNAME}-source${EXTRACT_SUFX} \
+		${PORTNAME}.png:icons
+EXTRACT_ONLY=	${PORTNAME}-source${EXTRACT_SUFX}
 
 MAINTAINER=	nemysis@gmx.ch
 COMMENT=	Side scrolling arcade game
 
 LICENSE=	LGPL20
 
-EXTRACT_DEPENDS=pngtopnm:${PORTSDIR}/graphics/netpbm
 RUN_DEPENDS=	${PYGAME} \
 		${PYTHON_PKGNAMEPREFIX}tkinter>=0:${PORTSDIR}/x11-toolkits/py-tkinter
 
+WRKSRC=		${WRKDIR}/zephulor-source
+
 USE_PYTHON=	yes
 NO_BUILD=	yes
 
-PLIST_FILES=	bin/${PORTNAME} \
-		share/pixmaps/${PORTNAME}.png
-
-PORTDATA=	*
 PORTDOCS=	*
 
 DOCSRCDIR1=	${WRKSRC}
@@ -34,7 +34,7 @@
 DOC_FILES2=	manual.txt
 
 DESKTOP_ENTRIES="Adventures on Planet Zephulor" "${COMMENT}" "${PORTNAME}" \
-		"${PORTNAME}" "Game;ArcadeGame;" "false"
+		"${PORTNAME}" "Game;ArcadeGame;" false
 
 SUB_FILES=	${PORTNAME}
 
@@ -45,25 +45,20 @@
 		${WRKSRC}/*.py ${WRKSRC}/maptool/*.py
 	@${FIND} ${WRKSRC} -name "*.bak" -delete
 
-post-extract:
-	@(cd ${WRKSRC}/data && ${LOCALBASE}/bin/pngtopnm zephulor.png | \
-		${LOCALBASE}/bin/pamscale .1 | ${LOCALBASE}/bin/pnmtopng > zephulor1.png)
-
 do-install:
 	${INSTALL_SCRIPT} ${WRKDIR}/${PORTNAME} ${PREFIX}/bin
-	${MKDIR} ${DATADIR}
+	@${MKDIR} ${DATADIR}/maptool
 	${INSTALL_SCRIPT} ${WRKSRC}/*.py ${DATADIR}
 	@(cd ${WRKSRC} && ${COPYTREE_SHARE} data ${DATADIR})
-	${MKDIR} ${DATADIR}/maptool
 	${INSTALL_SCRIPT} ${WRKSRC}/maptool/*.py ${DATADIR}/maptool
 
 post-install:
-	${INSTALL_DATA} ${WRKSRC}/data/zephulor1.png ${PREFIX}/share/pixmaps/${PORTNAME}.png
+	${INSTALL_DATA} ${_DISTDIR}/${PORTNAME}.png ${PREFIX}/share/pixmaps
 
 .if ${PORT_OPTIONS:MDOCS}
-	${MKDIR} ${DOCSDIR}
+	@${MKDIR} ${DOCSDIR}
 	${INSTALL_DATA} ${DOC_FILES1:S|^|${DOCSRCDIR1}/|} ${DOCSDIR}
-	${MKDIR} ${DOCSDIR2}
+	@${MKDIR} ${DOCSDIR2}
 	${INSTALL_DATA} ${DOC_FILES2:S|^|${DOCSRCDIR2}/|} ${DOCSDIR2}
 .endif
 
diff -ruN --exclude=CVS /usr/ports/games/zephulor/distinfo ./distinfo
--- /usr/ports/games/zephulor/distinfo	2013-01-14 17:55:26.000000000 +0100
+++ ./distinfo	2013-03-28 20:35:17.000000000 +0100
@@ -1,2 +1,4 @@
 SHA256 (zephulor-source.tar.gz) = db65c8e1ac17274e553f1bf319b3d8a5462c028b4b32fee1088fc0efd3239fda
 SIZE (zephulor-source.tar.gz) = 3274306
+SHA256 (zephulor.png) = f4540fd360cf020fd8f4c76c2fbce8c62ef768ee43b77dc4ce800fdac2a26997
+SIZE (zephulor.png) = 1986
diff -ruN --exclude=CVS /usr/ports/games/zephulor/pkg-plist ./pkg-plist
--- /usr/ports/games/zephulor/pkg-plist	1970-01-01 01:00:00.000000000 +0100
+++ ./pkg-plist	2013-03-28 20:37:04.000000000 +0100
@@ -0,0 +1,126 @@
+bin/zephulor
+share/pixmaps/zephulor.png
+%%DATADIR%%/chared.py
+%%DATADIR%%/data/angry_eye-die.wav
+%%DATADIR%%/data/angry_eye-dmg.wav
+%%DATADIR%%/data/angry_eye-shoot.wav
+%%DATADIR%%/data/angry_eye.data
+%%DATADIR%%/data/angry_eye.png
+%%DATADIR%%/data/blob-die.wav
+%%DATADIR%%/data/blob-grubub.wav
+%%DATADIR%%/data/blob.bmp
+%%DATADIR%%/data/bullet1.bmp
+%%DATADIR%%/data/bullet2.bmp
+%%DATADIR%%/data/buzzbuzz-die.wav
+%%DATADIR%%/data/buzzbuzz-dmg.wav
+%%DATADIR%%/data/buzzbuzz.data
+%%DATADIR%%/data/buzzbuzz.png
+%%DATADIR%%/data/char-bang.wav
+%%DATADIR%%/data/char-die.wav
+%%DATADIR%%/data/char-ow.wav
+%%DATADIR%%/data/char1.data
+%%DATADIR%%/data/char2.data
+%%DATADIR%%/data/credits.scn
+%%DATADIR%%/data/default.charlist
+%%DATADIR%%/data/eheart.bmp
+%%DATADIR%%/data/end.scn
+%%DATADIR%%/data/entsndlist.data
+%%DATADIR%%/data/fire-powerup.bmp
+%%DATADIR%%/data/fire-powerup.data
+%%DATADIR%%/data/firstmap.data
+%%DATADIR%%/data/heart-powerup.bmp
+%%DATADIR%%/data/heart-powerup.data
+%%DATADIR%%/data/heart.bmp
+%%DATADIR%%/data/highlight.bmp
+%%DATADIR%%/data/hollowlogo-credits.png
+%%DATADIR%%/data/hollowlogo-save.png
+%%DATADIR%%/data/hollowlogo.png
+%%DATADIR%%/data/hud.bmp
+%%DATADIR%%/data/intro.scn
+%%DATADIR%%/data/invuln-powerup.bmp
+%%DATADIR%%/data/invuln-powerup.data
+%%DATADIR%%/data/jump-powerup.bmp
+%%DATADIR%%/data/jump-powerup.data
+%%DATADIR%%/data/load.scn
+%%DATADIR%%/data/logo.scn
+%%DATADIR%%/data/mushlump_lowlands-01.data
+%%DATADIR%%/data/mushlump_lowlands-02.data
+%%DATADIR%%/data/mushlump_lowlands-03.data
+%%DATADIR%%/data/mushlump_lowlands-04.data
+%%DATADIR%%/data/mushlump_lowlands-05.data
+%%DATADIR%%/data/mushlump_lowlands-06.data
+%%DATADIR%%/data/mushlump_lowlands-07.data
+%%DATADIR%%/data/mushlump_lowlands-bkg0.bmp
+%%DATADIR%%/data/mushlump_lowlands-bkg1.bmp
+%%DATADIR%%/data/mushlump_lowlands-bkg2.bmp
+%%DATADIR%%/data/mushlump_lowlands-tileset.bmp
+%%DATADIR%%/data/mushlump_lowlands.mp3
+%%DATADIR%%/data/mychar.bmp
+%%DATADIR%%/data/pause.bmp
+%%DATADIR%%/data/paxapart_flats-01.data
+%%DATADIR%%/data/paxapart_flats-02.data
+%%DATADIR%%/data/paxapart_flats-03.data
+%%DATADIR%%/data/paxapart_flats-04.data
+%%DATADIR%%/data/paxapart_flats-05.data
+%%DATADIR%%/data/paxapart_flats-06.data
+%%DATADIR%%/data/paxapart_flats-07.data
+%%DATADIR%%/data/paxapart_flats-08.data
+%%DATADIR%%/data/paxapart_flats-bkg0.bmp
+%%DATADIR%%/data/paxapart_flats-bkg1.bmp
+%%DATADIR%%/data/paxapart_flats-bkg2.bmp
+%%DATADIR%%/data/paxapart_flats-tileset.bmp
+%%DATADIR%%/data/paxapart_flats.mp3
+%%DATADIR%%/data/powerup.wav
+%%DATADIR%%/data/rock-die.wav
+%%DATADIR%%/data/rock-ow.wav
+%%DATADIR%%/data/rock_bang.wav
+%%DATADIR%%/data/rock_ow.wav
+%%DATADIR%%/data/rockmonster.bmp
+%%DATADIR%%/data/rockmonster.data
+%%DATADIR%%/data/save.scn
+%%DATADIR%%/data/scn_load.png
+%%DATADIR%%/data/scn_save.png
+%%DATADIR%%/data/sludge-stalker-die.wav
+%%DATADIR%%/data/sludge-stalker-dmg.wav
+%%DATADIR%%/data/sludge-stalker-shoot.wav
+%%DATADIR%%/data/sludge-stalker.bmp
+%%DATADIR%%/data/sludge-stalker.data
+%%DATADIR%%/data/spaceship.png
+%%DATADIR%%/data/startup.scn
+%%DATADIR%%/data/water-deep-left.bmp
+%%DATADIR%%/data/water-deep-left.data
+%%DATADIR%%/data/water-deep-right.bmp
+%%DATADIR%%/data/water-deep-right.data
+%%DATADIR%%/data/water-deep.bmp
+%%DATADIR%%/data/water-deep.data
+%%DATADIR%%/data/water.bmp
+%%DATADIR%%/data/water.data
+%%DATADIR%%/data/zephulor-any.png
+%%DATADIR%%/data/zephulor-credits.png
+%%DATADIR%%/data/zephulor-loading.png
+%%DATADIR%%/data/zephulor.png
+%%DATADIR%%/game_config.py
+%%DATADIR%%/game_entities.py
+%%DATADIR%%/game_hud.py
+%%DATADIR%%/game_map.py
+%%DATADIR%%/game_menu.py
+%%DATADIR%%/game_projectiles.py
+%%DATADIR%%/game_sound.py
+%%DATADIR%%/maploadtool.py
+%%DATADIR%%/maptool/chared.py
+%%DATADIR%%/maptool/charmenu.py
+%%DATADIR%%/maptool/domenu.py
+%%DATADIR%%/maptool/game_entities.py
+%%DATADIR%%/maptool/game_map.py
+%%DATADIR%%/maptool/hud.py
+%%DATADIR%%/maptool/interface.py
+%%DATADIR%%/maptool/keymap.py
+%%DATADIR%%/maptool/main.py
+%%DATADIR%%/maptool/myimg.py
+%%DATADIR%%/maptool/tilemenu.py
+%%DATADIR%%/myimg.py
+%%DATADIR%%/scnloadtool.py
+%%DATADIR%%/zephulor.py
+@dirrm %%DATADIR%%/maptool
+@dirrm %%DATADIR%%/data
+@dirrm %%DATADIR%%
===> Done
