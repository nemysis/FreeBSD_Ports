===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/games/xye/Makefile ./Makefile
--- /usr/ports/games/xye/Makefile	2013-05-04 15:16:00.000000000 +0200
+++ ./Makefile	2013-05-04 16:26:27.000000000 +0200
@@ -29,7 +29,7 @@
 
 LICENSE=	ZLIB
 
-EXTRACT_DEPENDS=${LOCALBASE}/bin/unzip:${PORTSDIR}/archivers/unzip
+EXTRACT_DEPENDS=${UNZIP_CMD}:${PORTSDIR}/archivers/unzip
 
 USE_SDL=	sdl image ttf
 GNU_CONFIGURE=	yes
@@ -48,18 +48,20 @@
 
 SKINS=		XMASKYESKIN Xye%20skin%20-%20classic%20kye
 
+PORTDOCS=	*
+
 DESKTOP_ENTRIES="Xye" "${COMMENT}" "${PORTNAME}" \
 		"${PORTNAME}" "Game;LogicGame;" false
 
 SUB_FILES=	 pkg-message
 
-OPTIONS_DEFINE=	DOCS SKINS
+OPTIONS_DEFINE=	SKINS
 OPTIONS_DEFAULT=	SKINS
 SKINS_DESC=	Install additional skins
 
 .include <bsd.port.options.mk>
 
-.if defined(WITH_SKINS)
+.if ${PORT_OPTIONS:MSKINS}
 PLIST_SUB+=	SKINS=""
 .else
 PLIST_SUB+=	SKINS="@comment "
@@ -67,12 +69,12 @@
 
 post-extract-script:
 .for l in ${LEVELS:S/$/.zip/} xmas-xye-2009.zip xye_extra_levels.20121109.zip
-	@${UNZIP_CMD} -qoj -d ${WRKDIR} ${DISTDIR}/${DIST_SUBDIR}/${l}
+	@${UNZIP_CMD} -qoj -d ${WRKDIR} ${_DISTDIR}/${l}
 .endfor
 
 .if ${PORT_OPTIONS:MSKINS}
 .  for s in ${SKINS:S/$/.zip/}
-	@${UNZIP_CMD} -qoj -d ${WRKDIR}/skins ${DISTDIR}/${DIST_SUBDIR}/${s}
+	@${UNZIP_CMD} -qoj -d ${WRKDIR}/skins ${_DISTDIR}/${s}
 .  endfor
 .endif
 
@@ -80,16 +82,16 @@
 	@${REINPLACE_CMD} -e 's|docedir = $$(datadir)|docedir = ${PREFIX}/share/doc|' \
 		${WRKSRC}/Makefile.in
 
-.if !${PORT_OPTIONS:MDOCS}
+.if ! ${PORT_OPTIONS:MDOCS}
 	@${REINPLACE_CMD} '/install-data-am:/s/install-doceDATA//' \
 		${WRKSRC}/Makefile.in
 .endif
 
 post-install:
-	@cd ${WRKDIR} && ${COPYTREE_SHARE} "*.xye *.txt" ${DATADIR}/levels
+	@(cd ${WRKDIR} && ${COPYTREE_SHARE} "*.xye *.txt" ${DATADIR}/levels)
 
 .if ${PORT_OPTIONS:MSKINS}
-	@cd ${WRKDIR}/skins && ${COPYTREE_SHARE} \* ${DATADIR}/res
+	@(cd ${WRKDIR}/skins && ${COPYTREE_SHARE} . ${DATADIR}/res)
 .endif
 
 	${LN} -sf ${DATADIR}/res/detailed_icon.png ${PREFIX}/share/pixmaps/${PORTNAME}.png
diff -ruN --exclude=CVS /usr/ports/games/xye/pkg-plist ./pkg-plist
--- /usr/ports/games/xye/pkg-plist	2013-01-14 17:55:24.000000000 +0100
+++ ./pkg-plist	2013-03-22 15:51:03.000000000 +0100
@@ -1,9 +1,4 @@
 bin/xye
-%%PORTDOCS%%%%DOCSDIR%%/AUTHORS
-%%PORTDOCS%%%%DOCSDIR%%/ChangeLog
-%%PORTDOCS%%%%DOCSDIR%%/NEWS
-%%PORTDOCS%%%%DOCSDIR%%/ReadMe.html
-%%PORTDOCS%%%%DOCSDIR%%/xye.svg
 share/pixmaps/xye.png
 %%DATADIR%%/levels/5levels.xye
 %%DATADIR%%/levels/ActionReplay v.1.xye
@@ -87,4 +82,3 @@
 @dirrm %%DATADIR%%/res
 @dirrm %%DATADIR%%/levels
 @dirrm %%DATADIR%%
-%%PORTDOCS%%@dirrm %%DOCSDIR%%
===> Done
