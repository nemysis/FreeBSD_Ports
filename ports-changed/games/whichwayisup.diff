===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/games/whichwayisup/Makefile ./Makefile
--- /usr/ports/games/whichwayisup/Makefile	2013-02-24 17:33:59.000000000 +0100
+++ ./Makefile	2013-05-26 18:47:10.000000000 +0200
@@ -21,16 +21,15 @@
 
 WRKSRC=		${WRKDIR}/${PORTNAME}
 
-USE_PYTHON=	yes
 USE_ZIP=	yes
-USE_GNOME=	desktopfileutils
+USES=		desktop-file-utils
+USE_PYTHON=	yes
 INSTALLS_ICONS=	yes
 USE_DOS2UNIX=	*.py *.txt
 
 PORTDOCS=	README.txt changelog.txt
 
-DESKTOP_ENTRIES="Which Way Is Up" "${COMMENT}" \
-		"${PREFIX}/share/pixmaps/${PORTNAME}.png" \
+DESKTOP_ENTRIES="Which Way Is Up" "${COMMENT}" ${PORTNAME} \
 		"${PORTNAME}" "Game;ArcadeGame;" false
 
 .include <bsd.port.options.mk>
@@ -51,14 +50,11 @@
 	${INSTALL_SCRIPT} ${WRKSRC}/run_game.py ${PREFIX}/bin/${PORTNAME}
 	@(cd ${WRKSRC}/data && ${COPYTREE_SHARE} . ${DATADIR})
 	@(cd ${WRKSRC}/lib && ${COPYTREE_SHARE} . ${PYTHONPREFIX_SITELIBDIR}/${PORTNAME})
-	${INSTALL_DATA} ${_DISTDIR}/${PORTNAME}.png ${PREFIX}/share/pixmaps/
+	${INSTALL_DATA} ${_DISTDIR}/${PORTNAME}.png ${PREFIX}/share/pixmaps
 
 .if ${PORT_OPTIONS:MDOCS}
-	${MKDIR} ${DOCSDIR}
+	@${MKDIR} ${DOCSDIR}
 	${INSTALL_DATA} ${PORTDOCS:S|^|${WRKSRC}/|} ${DOCSDIR}
 .endif
 
-post-install:
-	@-update-desktop-database
-
 .include <bsd.port.mk>
diff -ruN --exclude=CVS /usr/ports/games/whichwayisup/pkg-plist ./pkg-plist
--- /usr/ports/games/whichwayisup/pkg-plist	2013-02-24 17:33:59.000000000 +0100
+++ ./pkg-plist	2013-05-21 15:11:09.000000000 +0200
@@ -204,5 +204,3 @@
 @dirrm %%DATADIR%%/pictures
 @dirrm %%DATADIR%%/sounds
 @dirrm %%DATADIR%%
-@exec %%LOCALBASE%%/bin/update-desktop-database -q || /usr/bin/true
-@unexec %%LOCALBASE%%/bin/update-desktop-database -q || /usr/bin/true
===> Done
