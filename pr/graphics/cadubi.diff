===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/graphics/cadubi/Makefile ./Makefile
--- /usr/ports/graphics/cadubi/Makefile	2012-06-28 20:37:12.000000000 +0200
+++ ./Makefile	2012-11-04 11:07:11.000000000 +0100
@@ -7,27 +7,41 @@
 
 PORTNAME=	cadubi
 PORTVERSION=	1.3
+PORTREVISION=	1
 CATEGORIES=	graphics editors
 MASTER_SITES=	http://langworth.com/pub/
 
-MAINTAINER=	ports@FreeBSD.org
+MAINTAINER=	nemysis@gmx.ch
 COMMENT=	ASCII drawing utility
 
+LICENSE=	ART10
+
 RUN_DEPENDS=	p5-Term-ReadKey>=0:${PORTSDIR}/devel/p5-Term-ReadKey
 
 USE_PERL5=	yes
 NO_BUILD=	yes
 
+PLIST_FILES=	bin/${PORTNAME} \
+		share/cadubi/help.txt \
+		share/cadubi/logo.txt
+PLIST_DIRSTRY=	share/cadubi
+
+PORTDOCS=	*
+
+.include <bsd.port.options.mk>
+
 do-configure:
 	@${PERL} -pi -e \
 		's|Bin/help|Bin/../share/cadubi/help|g' ${WRKSRC}/cadubi
 
 do-install:
-	${INSTALL_SCRIPT} ${WRKSRC}/cadubi ${PREFIX}/bin
-	@${MKDIR} ${DATADIR}
-	${INSTALL_DATA} ${WRKSRC}/help.txt ${DATADIR}
-	${INSTALL_DATA} ${WRKSRC}/logo.txt ${DATADIR}
-.if !defined(NOPORTDOCS)
+	${INSTALL_SCRIPT} ${WRKSRC}/${PORTNAME} ${PREFIX}/bin
+	${MKDIR} ${DATADIR}
+.for d in help.txt logo.txt
+	@(cd ${WRKSRC} && ${COPYTREE_SHARE} ${d} ${DATADIR})
+.endfor
+
+.if ${PORT_OPTIONS:MDOCS}
 	${MKDIR} ${DOCSDIR}
 	${INSTALL_DATA} ${WRKSRC}/README ${DOCSDIR}
 	${INSTALL_DATA} ${WRKSRC}/extras/ansi_term_codes.txt ${DOCSDIR}
diff -ruN --exclude=CVS /usr/ports/graphics/cadubi/pkg-plist ./pkg-plist
--- /usr/ports/graphics/cadubi/pkg-plist	2004-02-20 17:10:43.000000000 +0100
+++ ./pkg-plist	1970-01-01 01:00:00.000000000 +0100
@@ -1,7 +0,0 @@
-bin/cadubi
-%%DATADIR%%/help.txt
-%%DATADIR%%/logo.txt
-%%PORTDOCS%%%%DOCSDIR%%/README
-%%PORTDOCS%%%%DOCSDIR%%/ansi_term_codes.txt
-%%PORTDOCS%%@dirrm %%DOCSDIR%%
-@dirrm %%DATADIR%%
===> Done
