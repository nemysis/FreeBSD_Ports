===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/multimedia/gavl/Makefile ./Makefile
--- /usr/ports/multimedia/gavl/Makefile	2013-03-29 00:26:21.000000000 +0100
+++ ./Makefile	2013-03-30 23:03:57.000000000 +0100
@@ -7,12 +7,11 @@
 MASTER_SITES=	SF/gmerlin/${PORTNAME}/${PORTVERSION}
 
 MAINTAINER=	ports@FreeBSD.org
-COMMENT=	A library for handling uncompressed video and audio data
+COMMENT=	Library for handling uncompressed video and audio data
 
 LICENSE=	GPLv3
-LICENSE_FILE=	${WRKSRC}/COPYING
 
-USES=	pathfix
+USES=		pathfix
 USE_LDCONFIG=	yes
 USE_PKGCONFIG=	build
 MAKE_JOBS_SAFE=	yes
@@ -34,19 +33,19 @@
 CONFIGURE_ARGS+=	--disable-libpng
 .endif
 
-.include <bsd.port.pre.mk>
+.include <bsd.port.options.mk>
 
 post-patch:
-.if empty(PORT_OPTIONS:MOPTIMIZED_CFLAGS)
-	@${REINPLACE_CMD} -e \
-	's|-O3 -funroll-all-loops -fomit-frame-pointer -ffast-math||g' \
+.if ! ${PORT_OPTIONS:MOPTIMIZED_CFLAGS}
+	@${REINPLACE_CMD} \
+	-e 's|-O3 -funroll-all-loops -fomit-frame-pointer -ffast-math||g' \
 		${WRKSRC}/configure
 .endif
 
 post-install:
-.if !defined(NOPORTDOCS)
+.if ${PORT_OPTIONS:MDOCS}
 	@${MKDIR} ${DOCSDIR}
-	@${INSTALL_DATA} ${WRKSRC}/README ${DOCSDIR}
+	${INSTALL_DATA} ${PORTDOCS:S|^|${WRKSRC}/|} ${DOCSDIR}
 .endif
 
-.include <bsd.port.post.mk>
+.include <bsd.port.mk>
===> Done
