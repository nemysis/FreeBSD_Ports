===> Generating patch
===> Viewing diff with more
diff -ruN --exclude=CVS /usr/ports/audio/sphinx3/Makefile ./Makefile
--- /usr/ports/audio/sphinx3/Makefile	2013-01-14 17:54:19.000000000 +0100
+++ ./Makefile	2013-04-02 03:19:20.000000000 +0200
@@ -25,6 +25,9 @@
 		OSVERSION=${OSVERSION}
 
 post-patch:
-	@${REINPLACE_CMD} -e 's|(libdir)/pkgconfig|(prefix)/libdata/pkgconfig|' ${WRKSRC}/Makefile.in
+	@${REINPLACE_CMD} -e 's|(libdir)/pkgconfig|(prefix)/libdata/pkgconfig|' \
+		 ${WRKSRC}/Makefile.in
+	@${REINPLACE_CMD} -e 's|heap_t h|heap_t* h|' \
+		${WRKSRC}/src/libs3decoder/libsearch/vithist.c
 
 .include <bsd.port.mk>
diff -ruN --exclude=CVS /usr/ports/audio/sphinx3/files/patch-src_libs3decoder_libsearch_vithist.c ./files/patch-src_libs3decoder_libsearch_vithist.c
--- /usr/ports/audio/sphinx3/files/patch-src_libs3decoder_libsearch_vithist.c	2013-01-14 17:54:19.000000000 +0100
+++ ./files/patch-src_libs3decoder_libsearch_vithist.c	1970-01-01 01:00:00.000000000 +0100
@@ -1,11 +0,0 @@
---- src/libs3decoder/libsearch/vithist.c.orig	2012-12-14 12:01:13.000000000 -0500
-+++ src/libs3decoder/libsearch/vithist.c	2012-12-14 12:00:44.000000000 -0500
-@@ -647,7 +647,7 @@ vithist_prune(vithist_t * vh, dict_t * d
- {
-     int32 se, fe, filler_done, th;
-     vithist_entry_t *ve;
--    heap_t h;
-+    heap_t* h;
-     s3wid_t *wid;
-     int32 i;
- 
diff -ruN --exclude=CVS /usr/ports/audio/sphinx3/pkg-plist ./pkg-plist
--- /usr/ports/audio/sphinx3/pkg-plist	2013-01-14 17:54:19.000000000 +0100
+++ ./pkg-plist	2013-04-02 03:10:30.000000000 +0200
@@ -40,7 +40,6 @@
 include/sphinx3/gmm_wrap.h
 include/sphinx3/gs.h
 include/sphinx3/hmm.h
-include/sphinx3/hyp.h
 include/sphinx3/interp.h
 include/sphinx3/kb.h
 include/sphinx3/kbcore.h
@@ -65,6 +64,7 @@
 include/sphinx3/s3types.h
 include/sphinx3/search.h
 include/sphinx3/sort.h
+include/sphinx3/sphinx3_export.h
 include/sphinx3/srch.h
 include/sphinx3/srch_allphone.h
 include/sphinx3/srch_debug.h
@@ -126,14 +126,15 @@
 %%DATADIR%%/model/ep/means
 %%DATADIR%%/model/ep/mixture_weights
 %%DATADIR%%/model/ep/variances
-%%DATADIR%%/model/hmm/RM1_cd_semi/RM1.1000.mdef
 %%DATADIR%%/model/hmm/RM1_cd_semi/feat.params
 %%DATADIR%%/model/hmm/RM1_cd_semi/kdtrees
+%%DATADIR%%/model/hmm/RM1_cd_semi/mdef
 %%DATADIR%%/model/hmm/RM1_cd_semi/means
 %%DATADIR%%/model/hmm/RM1_cd_semi/mixture_weights
 %%DATADIR%%/model/hmm/RM1_cd_semi/transition_matrices
 %%DATADIR%%/model/hmm/RM1_cd_semi/variances
 %%DATADIR%%/model/hmm/hub4_cd_continuous_8gau_1s_c_d_dd/8gau.6000sen.quant
+%%DATADIR%%/model/hmm/hub4_cd_continuous_8gau_1s_c_d_dd/feat.params
 %%DATADIR%%/model/hmm/hub4_cd_continuous_8gau_1s_c_d_dd/mdef
 %%DATADIR%%/model/hmm/hub4_cd_continuous_8gau_1s_c_d_dd/means
 %%DATADIR%%/model/hmm/hub4_cd_continuous_8gau_1s_c_d_dd/mixture_weights
===> Done
